webpackJsonp([1],{"+Il5":function(e,t){},"75l9":function(e,t){e.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},"8TR7":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),s=a("mvHQ"),i=a.n(s),r=a("mtWM"),o=a.n(r).a.create({baseURL:"http://localhost:3000"}),d={name:"TaskList",props:["category"],data:function(){return{placeholderTaskTitle:"+ Add task",emptyInputTitle:"empty input title",fillInputTitle:"input title",isHidedDoneTasks:!0,selectedId:null,selected:"task-row selected",nonselected:"task-row default",inputIsEmpty:!0,newTask:"",tasks:[]}},mounted:function(){this.fetchData()},watch:{category:function(e,t){this.placeholderTaskTitle='+ Add task to "'+e.name+'"',this.tasks=[],this.isHidedDoneTasks=!0,this.$emit("gotoedit",{}),this.fetchData()},newTask:function(e,t){this.inputIsEmpty=""==e||null==e}},created:function(){},methods:{fetchData:function(){var e=this;this.selectedId=null;var t="/tasks?category="+this.category.id;this.category.isAll&&(t="/tasks"),o.get(t).then(function(t){t.data.forEach(function(t){e.tasks.push(t)})})},toggleHideDoneTasks:function(){this.isHidedDoneTasks=!this.isHidedDoneTasks},toDelete:function(e){var t=this;o({method:"delete",url:"/task",data:{id:e.id}}).then(function(e){t.tasks=t.tasks.filter(function(t){return t.id!=e.data})})},submitTask:function(){var e=this,t=this.newTask;o({method:"post",url:"/task",data:{title:t,isdone:!1,category:this.category.id}}).then(function(t){e.tasks.unshift(t.data),e.newTask=null})},gotoedit:function(e){this.$emit("gotoedit",e),this.selectedId=e.id}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newTask,expression:"newTask"}],class:[e.inputIsEmpty?e.emptyInputTitle:e.fillInputTitle],attrs:{type:"text",placeholder:e.placeholderTaskTitle},domProps:{value:e.newTask},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitTask()},input:function(t){t.target.composing||(e.newTask=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"listTask"},[a("label",[e._v("Overdue:")]),a("br"),e._v(" "),e._l(e.tasks,function(t){return t.isdone?e._e():a("div",{class:[t.id==e.selectedId?e.selected:e.nonselected],on:{click:function(a){return e.gotoedit(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isdone,expression:"task.isdone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isdone)?e._i(t.isdone,null)>-1:t.isdone},on:{change:function(a){var n=t.isdone,s=a.target,i=!!s.checked;if(Array.isArray(n)){var r=e._i(n,null);s.checked?r<0&&e.$set(t,"isdone",n.concat([null])):r>-1&&e.$set(t,"isdone",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(t,"isdone",i)}}}),e._v("\n        "+e._s(t.title)+"\n        "),a("button",{staticStyle:{float:"right"},on:{click:function(a){return e.toDelete(t)}}},[e._v("x")])])})],2),e._v(" "),a("div",{staticClass:"listTask done"},[a("div",{staticStyle:{margin:"2px 0px 5px 0px"}},[a("button",{staticStyle:{float:"right"},on:{click:e.toggleHideDoneTasks}},[e._v("Show done task")]),e._v(" "),a("label",[e._v("Done:")]),a("br")]),e._v(" "),e._l(e.tasks,function(t){return t.isdone&&!e.isHidedDoneTasks?a("div",{class:[t.id==e.selectedId?e.selected:e.nonselected],on:{click:function(a){return e.gotoedit(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.isdone,expression:"task.isdone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isdone)?e._i(t.isdone,null)>-1:t.isdone},on:{change:function(a){var n=t.isdone,s=a.target,i=!!s.checked;if(Array.isArray(n)){var r=e._i(n,null);s.checked?r<0&&e.$set(t,"isdone",n.concat([null])):r>-1&&e.$set(t,"isdone",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(t,"isdone",i)}}}),e._v("\n      "+e._s(t.title)+"\n      "),a("button",{staticStyle:{float:"right"},on:{click:function(a){return e.toDelete(t)}}},[e._v("x")])]):e._e()})],2)])},staticRenderFns:[]};var l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[null!=e.task.id?a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.task.title,expression:"task.title"}],staticClass:"title input",attrs:{type:"text",placeholder:"Title"},domProps:{value:e.task.title},on:{input:function(t){t.target.composing||e.$set(e.task,"title",t.target.value)}}}),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.task.desc,expression:"task.desc"}],staticClass:"desc input",attrs:{cols:"30",placeholder:"description",rows:"10"},domProps:{value:e.task.desc},on:{input:function(t){t.target.composing||e.$set(e.task,"desc",t.target.value)}}}),e._v(" "),a("table",[a("tr",[a("td",[e._v("Create time:")]),e._v(" "),a("td",[e._v(e._s(null==e.task.createtime?"":new Date(e.task.createtime).toLocaleString("en-GB",{timeZone:"UTC"})))])]),e._v(" "),a("tr",[a("td",[e._v("Current category:")]),e._v(" "),a("td",[null!=e.task.id?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticStyle:{float:"right"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selected=t.target.multiple?a:a[0]},e.categoryChanged]}},e._l(e.categories,function(t){return t.isAll?e._e():a("option",[e._v("\n              "+e._s(t.name)+"\n            ")])}),0):e._e()])])])]):e._e(),e._v(" "),null==e.task.id?a("div",{staticStyle:{margin:"100px 0px 0px 100px"}},[a("img",{attrs:{src:"images/select_task.png",alt:"select task",width:"200",height:"200"}}),e._v(" "),a("br"),a("label",[e._v("Click task title to view the derail")])]):e._e()])},staticRenderFns:[]},u={name:"TaskCategory",props:["categories"],data:function(){return{selectedId:null,selected:"element selected",nonselected:"element default",editedId:null}},methods:{saveEdited:function(e){var t=this;null!=e&&o({method:"post",url:"/category",data:e}).then(function(e){null==e.data.error?t.$emit("categoryadded",e.data):alert(e.data.error)}),this.editedId=null},switchcategory:function(e){this.editedId!=e.id&&(this.editedId=null),this.$emit("switchcategory",e),this.selectedId=e.id},editingCatergory:function(e){this.editedId=e.id},removeCategory:function(e){var t=this;o({method:"delete",url:"/category",data:{id:e.id}}).then(function(a){null==a.data.error?t.$emit("categoryremoved",e):alert(a.data.error)})},addNewCategory:function(){this.categories.push({})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.categories,function(t){return a("div",{on:{click:function(a){return e.switchcategory(t)},dblclick:function(a){return e.editingCatergory(t)}}},[t.id!=e.editedId?a("div",{class:[t.id==e.selectedId?e.selected:e.nonselected]},[e._v("\n      "+e._s(t.name)+"\n    ")]):a("div",{staticClass:"category-editor selected"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"c.name"}],staticClass:"edited",attrs:{type:"text",name:"category-name"},domProps:{value:t.name},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.saveEdited(t)},input:function(a){a.target.composing||e.$set(t,"name",a.target.value)}}}),e._v(" "),t.id==e.editedId?a("button",{staticClass:"category-remove-button",on:{click:function(a){return e.removeCategory(t)}}},[e._v("\n        Remove\n      ")]):e._e()])])}),e._v(" "),a("input",{staticClass:"green-button",attrs:{type:"button",value:"+"},on:{click:function(t){return e.addNewCategory()}}})],2)},staticRenderFns:[]};var p={name:"CreateCategory",data:function(){return{newCategory:null}},methods:{createNewCategory:function(){var e=this;if(""!=this.newCategory||null!=this.newCategory){var t=this.newCategory;console.log("create new category "+t),o({method:"post",url:"/category",data:{name:t}}).then(function(t){e.$emit("newcategory",t.data),e.newCategory=""})}}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newCategory,expression:"newCategory"}],staticClass:"input i-category",attrs:{type:"text",placeholder:"new category"},domProps:{value:e.newCategory},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createNewCategory()},input:function(t){t.target.composing||(e.newCategory=t.target.value)}}})])},staticRenderFns:[]};var h={name:"App",components:{TaskList:a("VU/8")(d,c,!1,function(e){a("qsOK")},null,null).exports,TaskEdit:a("VU/8")({name:"TaskEdit",props:["task","categories"],data:function(){return{selected:null}},watch:{task:function(e,t){if(e){var a=this.categories.find(function(t){return t.id==e.category});a&&(this.selected=a.name)}}},methods:{categoryChanged:function(e){var t=this,a=this.categories.find(function(e){return e.name==t.selected});a&&(this.task.category=a.id)}}},l,!1,null,null,null).exports,TaskCategory:a("VU/8")(u,g,!1,function(e){a("q4nO")},null,null).exports,CreateCategory:a("VU/8")(p,m,!1,function(e){a("8TR7")},null,null).exports},data:function(){return{taskListSplitVClass:"split left",taskEditSplitRightClass:"split right",content:"content",fullscreenClass:"fullscreen",editedTask:{title:"",desc:""},categories:[],currentCategory:{},isHiddedEdit:!1,isVerticalEdit:!0,isHiddedCategory:!1,isHiddedCreateCategoryForm:!0}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.categories=[],o.get("/categories").then(function(t){e.categories.push({id:"all",name:"all",isAll:!0}),t.data.forEach(function(t){e.categories.push(t)})})},toggleCreateCategoryForm:function(){this.isHiddedCreateCategoryForm=!this.isHiddedCreateCategoryForm},selectTask:function(e){if(this.isHiddedEdit=!1,null!=this.editedTask.id){var t=i()(this.editedTask);fetch(new Request("/task",{method:"POST",body:t}))}this.editedTask=e},toggleCategory:function(){this.isHiddedCategory=!this.isHiddedCategory},categorySelected:function(e){this.currentCategory=e},categoryAdded:function(e){this.fetchData()},categoryRemoved:function(e){this.categories=this.categories.filter(function(t){return t.id!=e.id})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-window"},[e.isHiddedCategory?e._e():a("TaskCategory",{staticClass:"category",attrs:{categories:e.categories},on:{switchcategory:e.categorySelected,categoryadded:e.categoryAdded,categoryremoved:e.categoryRemoved}}),e._v(" "),a("div",{class:e.content},[a("TaskList",{class:e.taskListSplitVClass,attrs:{category:e.currentCategory},on:{gotoedit:e.selectTask}}),e._v(" "),e.isHiddedEdit?e._e():a("TaskEdit",{class:e.taskEditSplitRightClass,attrs:{task:e.editedTask,categories:e.categories}})],1)],1)},staticRenderFns:[]};var k=a("VU/8")(h,v,!1,function(e){a("+Il5")},null,null).exports,f=a("/ocq");n.a.use(f.a);var y=new f.a({routes:[{path:"/",name:"App",component:k}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:y,components:{App:k},template:"<App/>"})},q4nO:function(e,t){},qsOK:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.592fc75828f0c339ca49.js.map